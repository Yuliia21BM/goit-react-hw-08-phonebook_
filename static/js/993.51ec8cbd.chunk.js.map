{"version":3,"file":"static/js/993.51ec8cbd.chunk.js","mappings":"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","sources":["components/Box.jsx","components/ContactForm/ContactForm.jsx","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","components/redux/selectors.js","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","pages/ContactsPage/ContactsPage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { color, space, layout, typography, flexbox } from 'styled-system';\n\nexport const Box = styled('div')(color, space, layout, typography, flexbox);\n","import React from 'react';\nimport { nanoid } from 'nanoid';\nimport { Formik, Form, Field } from 'formik';\nimport { useState } from 'react';\n\nimport {\n  FormErrorMessage,\n  FormControl,\n  FormLabel,\n  Input,\n  Button,\n  Flex,\n  Box,\n  Heading,\n} from '@chakra-ui/react';\n\nimport {\n  useFetchContactsQuery,\n  useAddContactMutation,\n} from 'components/redux/contactsApi';\n\nimport { Notification, patternName } from 'components/utiles';\n\nconst initialValues = { name: '', number: '' };\n\nconst nameId = nanoid();\nconst numberId = nanoid();\n\nexport const ContactForm = ({ onClose }) => {\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [addContact] = useAddContactMutation();\n  const { data } = useFetchContactsQuery();\n\n  const formSubmitHandler = (_, { resetForm }) => {\n    console.log(newName, newNumber);\n    const invalidName = data.find(state => state.name === newName);\n\n    if (invalidName) {\n      Notification(newName);\n      resetForm();\n      return;\n    }\n    addContact({ name: newName, number: newNumber });\n    onClose();\n    resetForm();\n  };\n  return (\n    <Flex width=\"full\" align=\"center\" justifyContent=\"center\">\n      <Box p={2}>\n        <Box textAlign=\"center\">\n          <Heading>Add new contact</Heading>\n        </Box>\n        <Box my={4} textAlign=\"left\">\n          <Formik initialValues={initialValues} onSubmit={formSubmitHandler}>\n            {props => (\n              <Form>\n                <Field name=\"name\" id={nameId}>\n                  {({ field, form }) => (\n                    <FormControl\n                      isInvalid={form.errors.name && form.touched.name}\n                    >\n                      <FormLabel>Name</FormLabel>\n                      <Input\n                        {...field}\n                        value={newName}\n                        type=\"text\"\n                        placeholder=\"John Doe\"\n                        _placeholder={{ opacity: 1, color: 'teal.700' }}\n                        pattern={patternName}\n                        onChange={e => setNewName(e.target.value)}\n                      />\n                      <FormErrorMessage>{form.errors.name}</FormErrorMessage>\n                    </FormControl>\n                  )}\n                </Field>\n                <Field name=\"number\" patern={patternName} id={numberId}>\n                  {({ field, form }) => (\n                    <FormControl\n                      mt={6}\n                      isInvalid={form.errors.name && form.touched.name}\n                    >\n                      <FormLabel>Nunber</FormLabel>\n                      <Input\n                        {...field}\n                        value={newNumber}\n                        type=\"telephone\"\n                        placeholder=\"0960000000\"\n                        _placeholder={{ opacity: 1, color: 'teal.700' }}\n                        pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n                        onChange={e => setNewNumber(e.target.value)}\n                      />\n                      <FormErrorMessage>{form.errors.name}</FormErrorMessage>\n                    </FormControl>\n                  )}\n                </Field>\n                <Button\n                  type=\"submit\"\n                  colorScheme=\"yellow\"\n                  variant=\"outline\"\n                  width=\"full\"\n                  mt={6}\n                >\n                  Submit\n                </Button>\n              </Form>\n            )}\n          </Formik>\n        </Box>\n      </Box>\n    </Flex>\n  );\n};\n","import styled from 'styled-components';\n\nexport const FilterTitle = styled.label`\n  margin-bottom: 10px;\n`;\n\nexport const FilterInput = styled.input`\n  width: 400px;\n`;\n","import { Box } from '../Box';\nimport { nanoid } from 'nanoid';\nimport { useDispatch } from 'react-redux';\nimport { chatngeFilterValue } from '../redux/filterSlice';\nimport { useState, useEffect } from 'react';\nimport { useDebounce } from 'components/utiles';\n\nimport { FilterInput, FilterTitle } from './Filter.styled';\n\nconst filterId = nanoid();\n\nexport const Filter = () => {\n  const dispatch = useDispatch();\n  const [filter, setFilter] = useState('');\n  const debounsedfilterValue = useDebounce(filter, 500);\n\n  useEffect(() => {\n    dispatch(chatngeFilterValue(debounsedfilterValue));\n  }, [debounsedfilterValue, dispatch]);\n\n  const handleFilterChange = e => {\n    setFilter(e.currentTarget.value.toLowerCase());\n  };\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <FilterTitle htmlFor={filterId}>Finde contact by name</FilterTitle>\n      <FilterInput\n        value={filter}\n        type=\"text\"\n        id={filterId}\n        onChange={handleFilterChange}\n      />\n    </Box>\n  );\n};\n","export const selectContacts = state => state.contacts.items;\n\nexport const selectTextFilter = state => state.filter.value;\n","import styled from 'styled-components';\n\nexport const ContactsList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n  width: 350px;\n  margin: 0;\n  padding: 20px;\n`;\n\nexport const ContactItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n`;\n\nexport const DeleteBtn = styled.button`\n  background-color: #d81414;\n  color: white;\n  padding: 5px;\n  border: none;\n  cursor: pointer;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 6px -1px,\n    rgba(0, 0, 0, 0.06) 0px 2px 4px -1px;\n`;\n","import { useSelector } from 'react-redux';\nimport { selectTextFilter } from '../redux/selectors';\nimport {\n  useFetchContactsQuery,\n  useDeleteContactMutation,\n} from 'components/redux/contactsApi';\n\nimport { ContactsList, ContactItem, DeleteBtn } from './ContactList.styled';\n\nconst getFilteredContacts = (contacts, filterValue) => {\n  if (filterValue === '') {\n    return contacts;\n  }\n  return contacts.filter(contact =>\n    contact.name.toLowerCase().includes(filterValue)\n  );\n};\n\nexport const ContactList = () => {\n  const { data } = useFetchContactsQuery();\n  const [deleteContact] = useDeleteContactMutation();\n  const filterValue = useSelector(selectTextFilter);\n\n  const visibleContacts = getFilteredContacts(data, filterValue);\n\n  return (\n    <ContactsList>\n      {visibleContacts?.map(({ id, name, number }) => {\n        return (\n          <ContactItem key={id}>\n            <span>&#128241;</span>\n            {name} : {number}\n            <DeleteBtn onClick={() => deleteContact(id)}>Delete</DeleteBtn>\n          </ContactItem>\n        );\n      })}\n    </ContactsList>\n  );\n};\n","import { ToastContainer } from 'react-toastify';\nimport { useFetchContactsQuery } from 'components/redux/contactsApi';\nimport { createPortal } from 'react-dom';\nimport {\n  useDisclosure,\n  Button,\n  // ModalHeader,\n  // Flex,\n  // Spacer,\n  // Link,\n  // Box,\n  // useColorMode,\n} from '@chakra-ui/react';\n\nimport { Container } from 'components/utiles';\nimport { Box } from 'components/Box';\nimport { ContactForm } from 'components/ContactForm';\nimport { Filter } from 'components/Filter';\nimport { ContactList } from 'components/ContactList/ContactList';\nimport { ModalWrap } from 'components/ModalWrap/ModalWrap';\n\nconst ContactsPage = () => {\n  const { error, isLoading } = useFetchContactsQuery();\n  const { isOpen, onOpen, onClose } = useDisclosure();\n\n  return (\n    <>\n      <Container>\n        <Box p=\"10px\">\n          <Button colorScheme=\"teal\" onClick={onOpen}>\n            Add\n          </Button>\n          <h2>Contacts</h2>\n          <Filter />\n          {isLoading && !error && <b>Request in progress...</b>}\n          <ContactList />\n          <ToastContainer autoClose={3000} />\n        </Box>\n        {createPortal(\n          <ModalWrap isOpen={isOpen} onClose={onClose}>\n            <ContactForm onClose={onClose} />\n          </ModalWrap>,\n          document.body\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default ContactsPage;\n"],"names":["Box","styled","color","space","layout","typography","flexbox","initialValues","name","number","nameId","nanoid","numberId","ContactForm","onClose","useState","newName","setNewName","newNumber","setNewNumber","useAddContactMutation","addContact","data","useFetchContactsQuery","width","align","justifyContent","p","textAlign","my","onSubmit","_","resetForm","console","log","find","state","Notification","props","id","field","form","isInvalid","errors","touched","I","value","type","placeholder","_placeholder","opacity","pattern","patternName","onChange","e","target","patern","mt","colorScheme","variant","FilterTitle","FilterInput","filterId","Filter","dispatch","useDispatch","filter","setFilter","debounsedfilterValue","useDebounce","useEffect","chatngeFilterValue","display","flexDirection","htmlFor","currentTarget","toLowerCase","selectTextFilter","ContactsList","ContactItem","DeleteBtn","ContactList","useDeleteContactMutation","deleteContact","visibleContacts","contacts","filterValue","contact","includes","getFilteredContacts","useSelector","map","onClick","error","isLoading","useDisclosure","isOpen","onOpen","autoClose","createPortal","ModalWrap","document","body"],"sourceRoot":""}